<app-header></app-header>

<main class="blog-page page-fade-in">
  <!-- Hero Section -->
  <section class="blog-hero page-content-fade page-section-1">
    <div class="hero-container">
      <div class="hero-content">
        <h1 class="hero-title animate-on-load fade-in-up">Home & Seasonal Care Insights</h1>
        <p class="hero-subtitle animate-on-load fade-in-up">
          Thoughtful advice and stories from Sorella Home Solutions
        </p>
        <p class="hero-description animate-on-load fade-in-up">
          Discover practical tips, seasonal reminders, and insights from our team about caring for your home year-round.
        </p>
      </div>
    </div>
  </section>

  <!-- Blog Content Section -->
  <section class="blog-content page-content-fade page-section-2">
    <div class="content-container">
      <!-- Loading State -->
      <div *ngIf="isLoading" class="loading-container">
        <div class="loading-spinner"></div>
        <p>Loading blog posts...</p>
      </div>

      <!-- Error State -->
      <div *ngIf="error && !isLoading" class="error-container animate-on-scroll fade-in-up">
        <p class="error-message">{{ error }}</p>
      </div>

      <!-- Blog Posts -->
      <ng-container *ngIf="!isLoading && !error">
        <article *ngFor="let post of blogPosts" class="blog-article">
          
          <!-- Blog Post Header -->
          <header class="blog-post-header animate-on-scroll fade-in-up">
            <div class="title-with-badge">
              <h2 class="blog-post-title">{{ post.title }}</h2>
              <span *ngIf="post.featured" class="featured-badge" title="Featured post">
                <svg viewBox="0 0 24 24" fill="currentColor" width="16" height="16">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>
                </svg>
                Featured
              </span>
            </div>
            <div class="blog-post-meta">
              <span class="meta-item">{{ post.date | date:'MMMM d, yyyy • h:mm a' }}</span>
              <span class="meta-divider">•</span>
              <span class="meta-item">by {{ post.author }}</span>
              <span class="meta-divider">•</span>
              <span class="meta-item">{{ post.readTime }} min read</span>
              <span class="meta-divider">•</span>
              <span class="meta-item blog-category">{{ post.category }}</span>
            </div>
          </header>

          <!-- Blog Post Introduction -->
          <div class="blog-post-intro animate-on-scroll fade-in-up">
            <p class="intro-text">
              {{ post.introText }}
            </p>
          </div>

          <!-- Featured Image -->
          <figure class="blog-featured-image animate-on-scroll fade-in-up">
            <img 
              [src]="post.featuredImage" 
              [alt]="post.title"
              loading="lazy">
          </figure>

          <!-- Content Sections -->
          <section *ngFor="let section of post.contentSections" class="blog-section animate-on-scroll fade-in-up">
            <h3 class="section-heading">{{ section.heading }}</h3>
            <p class="section-text" [innerHTML]="section.content"></p>
          </section>

          <!-- Social Share Buttons -->
          <app-social-share-buttons
            [url]="getShareUrl(post)"
            [title]="post.title"
            [text]="post.subtitle"
            [hashtags]="post.tags">
          </app-social-share-buttons>

        </article>
      </ng-container>

      <!-- No Posts Message -->
      <div *ngIf="!isLoading && !error && blogPosts.length === 0" class="no-posts animate-on-scroll fade-in-up">
        <p>No blog posts available yet. Check back soon!</p>
      </div>

    </div>
  </section>

  <!-- Call to Action -->
  <section class="cta-section">
    <div class="cta-container">
      <div class="cta-content animate-on-scroll fade-in-up">
        <h2 class="cta-title">Schedule a Home Care Consultation</h2>
        <p class="cta-description">
          Ready to experience Sorella's signature care? Schedule a personalized consultation to discuss how we can tailor our services to your unique needs.
        </p>
        <div class="cta-info">
          <p class="cta-phone">781-228-1235</p>
        </div>
        <div class="cta-buttons">
          <button class="cta-button primary" (click)="scheduleConsultation()">Schedule your consultation</button>
          <button class="cta-button secondary" (click)="navigateToContact()">Get Started</button>
        </div>
      </div>
    </div>
  </section>
</main>

<app-footer></app-footer>
<app-back-to-top></app-back-to-top>